package org.icfp2017.server

import com.google.gson.Gson
import org.junit.Assert.*
import org.junit.Test

class ReadyRequestTest {

    @Test
    fun serialization() {
        val response = """{"move":{"moves":[{"claim":{"punter":0,"source":23,"target":27}},{"claim":{"punter":1,"source":3,"target":5}},{"claim":{"punter":2,"source":0,"target":7}},{"claim":{"punter":3,"source":26,"target":27}}]},"state":{"game":{"unownedRivers":[{"source":5,"target":18},{"source":4,"target":18},{"source":18,"target":25},{"source":3,"target":25},{"source":1,"target":25},{"source":2,"target":4},{"source":1,"target":4},{"source":11,"target":30},{"source":8,"target":30},{"source":11,"target":14},{"source":10,"target":15},{"source":12,"target":31},{"source":11,"target":31},{"source":1,"target":8},{"source":2,"target":23},{"source":0,"target":23},{"source":3,"target":24},{"source":0,"target":24},{"source":16,"target":21},{"source":4,"target":21},{"source":13,"target":36},{"source":6,"target":36},{"source":2,"target":26},{"source":1,"target":26},{"source":2,"target":9},{"source":17,"target":19},{"source":5,"target":19},{"source":31,"target":32},{"source":30,"target":32},{"source":29,"target":32},{"source":28,"target":32},{"source":2,"target":6},{"source":26,"target":27},{"source":25,"target":27},{"source":24,"target":27},{"source":23,"target":27},{"source":10,"target":34},{"source":7,"target":34},{"source":21,"target":22},{"source":20,"target":22},{"source":19,"target":22},{"source":18,"target":22},{"source":12,"target":28},{"source":9,"target":28},{"source":3,"target":5},{"source":13,"target":33},{"source":10,"target":33},{"source":36,"target":37},{"source":35,"target":37},{"source":34,"target":37},{"source":33,"target":37},{"source":0,"target":7},{"source":23,"target":35},{"source":7,"target":35},{"source":6,"target":35},{"source":26,"target":29},{"source":9,"target":29},{"source":8,"target":29},{"source":17,"target":20},{"source":16,"target":20}],"mines":[27,32,37,22],"sitesReachedForMine":{"27":[],"32":[],"37":[],"22":[]},"riversForSite":{"18":[{"source":5,"target":18},{"source":4,"target":18},{"source":18,"target":25},{"source":18,"target":22}],"25":[{"source":18,"target":25},{"source":3,"target":25},{"source":1,"target":25},{"source":25,"target":27}],"4":[{"source":4,"target":18},{"source":2,"target":4},{"source":1,"target":4},{"source":4,"target":21}],"30":[{"source":11,"target":30},{"source":8,"target":30},{"source":30,"target":32}],"14":[{"source":11,"target":14}],"15":[{"source":10,"target":15}],"31":[{"source":12,"target":31},{"source":11,"target":31},{"source":31,"target":32}],"12":[{"source":12,"target":31},{"source":12,"target":28}],"8":[{"source":8,"target":30},{"source":1,"target":8},{"source":8,"target":29}],"1":[{"source":1,"target":25},{"source":1,"target":4},{"source":1,"target":8},{"source":1,"target":26}],"23":[{"source":2,"target":23},{"source":0,"target":23},{"source":23,"target":27},{"source":23,"target":35}],"3":[{"source":3,"target":25},{"source":3,"target":24},{"source":3,"target":5}],"16":[{"source":16,"target":21},{"source":16,"target":20}],"24":[{"source":3,"target":24},{"source":0,"target":24},{"source":24,"target":27}],"21":[{"source":16,"target":21},{"source":4,"target":21},{"source":21,"target":22}],"36":[{"source":13,"target":36},{"source":6,"target":36},{"source":36,"target":37}],"26":[{"source":2,"target":26},{"source":1,"target":26},{"source":26,"target":27},{"source":26,"target":29}],"11":[{"source":11,"target":30},{"source":11,"target":14},{"source":11,"target":31}],"9":[{"source":2,"target":9},{"source":9,"target":28},{"source":9,"target":29}],"13":[{"source":13,"target":36},{"source":13,"target":33}],"19":[{"source":17,"target":19},{"source":5,"target":19},{"source":19,"target":22}],"32":[{"source":31,"target":32},{"source":30,"target":32},{"source":29,"target":32},{"source":28,"target":32}],"17":[{"source":17,"target":19},{"source":17,"target":20}],"6":[{"source":6,"target":36},{"source":2,"target":6},{"source":6,"target":35}],"27":[{"source":26,"target":27},{"source":25,"target":27},{"source":24,"target":27},{"source":23,"target":27}],"34":[{"source":10,"target":34},{"source":7,"target":34},{"source":34,"target":37}],"22":[{"source":21,"target":22},{"source":20,"target":22},{"source":19,"target":22},{"source":18,"target":22}],"28":[{"source":28,"target":32},{"source":12,"target":28},{"source":9,"target":28}],"5":[{"source":5,"target":18},{"source":5,"target":19},{"source":3,"target":5}],"33":[{"source":13,"target":33},{"source":10,"target":33},{"source":33,"target":37}],"37":[{"source":36,"target":37},{"source":35,"target":37},{"source":34,"target":37},{"source":33,"target":37}],"10":[{"source":10,"target":15},{"source":10,"target":34},{"source":10,"target":33}],"0":[{"source":0,"target":23},{"source":0,"target":24},{"source":0,"target":7}],"7":[{"source":7,"target":34},{"source":0,"target":7},{"source":7,"target":35}],"35":[{"source":35,"target":37},{"source":23,"target":35},{"source":7,"target":35},{"source":6,"target":35}],"29":[{"source":29,"target":32},{"source":26,"target":29},{"source":9,"target":29},{"source":8,"target":29}],"2":[{"source":2,"target":4},{"source":2,"target":23},{"source":2,"target":26},{"source":2,"target":9},{"source":2,"target":6}],"20":[{"source":20,"target":22},{"source":17,"target":20},{"source":16,"target":20}]},"sitesForSite":{"18":[5,4,25,22],"25":[18,3,1,27],"4":[2,1,18,21],"30":[11,8,32],"14":[11],"15":[10],"31":[12,11,32],"12":[31,28],"8":[1,30,29],"1":[25,4,8,26],"23":[2,0,27,35],"3":[25,24,5],"16":[21,20],"24":[3,0,27],"21":[16,4,22],"36":[13,6,37],"26":[2,1,27,29],"11":[30,14,31],"9":[2,28,29],"13":[36,33],"19":[17,5,22],"32":[31,30,29,28],"17":[19,20],"6":[2,36,35],"27":[26,25,24,23],"34":[10,7,37],"22":[21,20,19,18],"28":[12,9,32],"5":[3,18,19],"33":[13,10,37],"37":[36,35,34,33],"10":[15,34,33],"0":[23,24,7],"7":[0,34,35],"35":[23,7,6,37],"29":[26,9,8,32],"2":[4,23,26,9,6],"20":[17,16,22]},"siteScores":{"18":{"27":9,"32":225,"37":225,"22":1},"25":{"27":1,"32":144,"37":169,"22":25},"4":{"27":36,"32":144,"37":121,"22":4},"30":{"27":256,"32":1,"37":676,"22":361},"14":{"27":1156,"32":49,"37":1296,"22":1024},"15":{"27":1296,"32":1369,"37":100,"22":1369},"31":{"27":289,"32":1,"37":900,"22":841},"12":{"27":529,"32":4,"37":576,"22":576},"8":{"27":49,"32":9,"37":400,"22":144},"1":{"27":4,"32":64,"37":225,"22":49},"23":{"27":1,"32":169,"37":9,"22":121},"3":{"27":9,"32":225,"37":324,"22":81},"16":{"27":484,"32":484,"37":484,"22":4},"24":{"27":1,"32":196,"37":144,"22":169},"21":{"27":169,"32":256,"37":225,"22":1},"36":{"27":225,"32":324,"37":1,"22":324},"26":{"27":1,"32":16,"37":121,"22":121},"11":{"27":625,"32":4,"37":1024,"22":676},"9":{"27":36,"32":16,"37":121,"22":121},"13":{"27":576,"32":625,"37":4,"22":625},"19":{"27":324,"32":676,"37":729,"22":1},"32":{"27":64,"32":0,"37":529,"22":529},"17":{"27":729,"32":1024,"37":1089,"22":9},"6":{"27":36,"32":169,"37":4,"22":121},"27":{"27":0,"32":81,"37":64,"22":100},"34":{"27":400,"32":841,"37":1,"22":729},"22":{"27":81,"32":400,"37":441,"22":0},"28":{"27":196,"32":1,"37":289,"22":289},"5":{"27":81,"32":400,"37":441,"22":16},"33":{"27":441,"32":900,"37":1,"22":784},"37":{"27":144,"32":576,"37":0,"22":484},"10":{"27":841,"32":1156,"37":16,"22":1089},"0":{"27":16,"32":289,"37":64,"22":225},"7":{"27":121,"32":529,"37":9,"22":441},"35":{"27":25,"32":289,"37":1,"22":225},"29":{"27":4,"32":1,"37":256,"22":256},"2":{"27":4,"32":81,"37":49,"22":49},"20":{"27":361,"32":729,"37":784,"22":1}},"punter":3,"punters":4,"map":{"sites":[{"id":18},{"id":25},{"id":4},{"id":30},{"id":14},{"id":15},{"id":31},{"id":12},{"id":8},{"id":1},{"id":23},{"id":3},{"id":16},{"id":24},{"id":21},{"id":36},{"id":26},{"id":11},{"id":9},{"id":13},{"id":19},{"id":32},{"id":17},{"id":6},{"id":27},{"id":34},{"id":22},{"id":28},{"id":5},{"id":33},{"id":37},{"id":10},{"id":0},{"id":7},{"id":35},{"id":29},{"id":2},{"id":20}],"rivers":[{"source":5,"target":18},{"source":4,"target":18},{"source":18,"target":25},{"source":3,"target":25},{"source":1,"target":25},{"source":2,"target":4},{"source":1,"target":4},{"source":11,"target":30},{"source":8,"target":30},{"source":11,"target":14},{"source":10,"target":15},{"source":12,"target":31},{"source":11,"target":31,"owner":1},{"source":1,"target":8},{"source":2,"target":23},{"source":0,"target":23},{"source":3,"target":24},{"source":0,"target":24},{"source":16,"target":21,"owner":2},{"source":4,"target":21},{"source":13,"target":36},{"source":6,"target":36},{"source":2,"target":26},{"source":1,"target":26},{"source":2,"target":9},{"source":17,"target":19},{"source":5,"target":19},{"source":31,"target":32},{"source":30,"target":32},{"source":29,"target":32},{"source":28,"target":32},{"source":2,"target":6},{"source":26,"target":27},{"source":25,"target":27},{"source":24,"target":27},{"source":23,"target":27},{"source":10,"target":34},{"source":7,"target":34},{"source":21,"target":22},{"source":20,"target":22},{"source":19,"target":22},{"source":18,"target":22},{"source":12,"target":28},{"source":9,"target":28,"owner":0},{"source":3,"target":5},{"source":13,"target":33},{"source":10,"target":33},{"source":36,"target":37},{"source":35,"target":37},{"source":34,"target":37},{"source":33,"target":37},{"source":0,"target":7},{"source":23,"target":35},{"source":7,"target":35},{"source":6,"target":35},{"source":26,"target":29},{"source":9,"target":29},{"source":8,"target":29},{"source":17,"target":20},{"source":16,"target":20}],"mines":[27,32,37,22]}}}}"""
        val resp = Gson().fromJson(response, GeneralResponse::class.java)
    }
}


